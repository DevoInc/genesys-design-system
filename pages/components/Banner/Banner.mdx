import { Meta, Canvas, Controls } from '@storybook/blocks';

import * as Stories from './Banner.stories';

import { CardHtml, CardReact, DesignTokensList, Figma, Figure, } from '../../../blocks';
import { getCmpTokensJson } from '../../../tokens';

<Meta of={Stories} />

# Banner
The Banner component provides to the users the messages about:
 - Explicit information for/complete a configuration or process (info, help, etc.).
 - Warning for a form's fields group validation.

Both persist until the problem described is solved, but only the context banner type can be closed by the user.

Banners can contain several messages on the same banner (for example a summary of errors within a form). In addition, they can include further actions.

## Overview

(PENDING) 

### Variants
Size, alignment, location, component type, state... etc.


### Location
It can be: 
 - Inside another component context, and placed at the top of this component.

<Figure>
  <img
    alt="Location of the 'status' icon button in a widget header"
    src="img/location-banner-075x.jpg"
  />
</Figure>
 - Global and placed at the top of the page.
 <Figure>
  <img
    alt="Location of the 'status' icon button in a widget header"
    src="img/Location-Globalbanner075x.jpg"
  />
</Figure>

### Component
Type contextual and global.

## Live demo

Preview the Banner component with the React live demo. For detailed code usage
documentation, see the Genesys UI or Genesys Styles version of the component.

<Canvas of={Stories.Example} />
<Controls of={Stories.Example} />

<section className="mrow">
  <div className="mcol-12 mcol-sm-6">
    <CardReact url="https://devoinc.github.io/genesys-ui/?path=/docs/components-feedback-banner--docs" />
  </div>
  <div className="mcol-12 mcol-sm-6">
    <CardHtml url="https://gitlab.devotools.com/engineering/quvis/genesys-styles" />
  </div>
</section>

## Anatomy
<Figure caption="The internal structure and specs of the Banner component.">
  <Figma
    aspectRatio="4x3"
    url="https://www.figma.com/file/4f9wa0fKYIwMue6yo6nrJL/Genesys-Design-System---Web-Previews?type=design&node-id=15400%3A72165&mode=design&t=Dw2xOfqO2VoLFeWs-1"
  />
</Figure>


## Accessibility

Recommended attributes to be included:

### aria-live

Dynamic content which updates without a page reload.
Live regions need to exist in the HTML at time of page-load, but they will only
be announced when the content within the container changes.
Used in the `.box-message` block.

### role

The status role defines an advisory that is not important enough to be an alert.
Used in the `.box-message` block.

Only one of the two attributes (aria-label or role) can be used at the same time:

- `<div aria-live="polite">` is analogous to `<div role="status">`.
- `<div aria-live="assertive" aria-atomic="true">` is analogous to `<div role="alert">`.

Used in the `.box-message` block as:

- `aria-live="polite"` or `role="status"`: It is used to display a message to
  the user in a way that does not interrupt the user’s current task and queues the
  notification until whatever task the user is currently working on is complete.
- `aria-live="assertive"` or `role="alert"`: If the notification contains an
  urgent message. It is used to display a message to the user that interrupts the
  user’s current task. These are considerably more disruptive to users than the
  `role="status"`.

### aria-label

A more descriptive explanation for screen readers.
Used in the `.box-message__remove-button` button element as `aria-label="close"`.

## Design tokens

(PENDING)

### Complete list

<DesignTokensList
  tokens={getCmpTokensJson('banner')}
  intro={
    <p style={{ margin: '1.6rem 0' }}>
      There are {getCmpTokensJson('banner').length} Banner design
      tokens. The units in rem are not based in browser, but in base 10, so{' '}
      <code>1rem = 10px</code>.
    </p>
  }
/>
